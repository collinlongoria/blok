- kind: graphics
  name: mesh_flat
  rts:
    colors: ["BGRA8_Unorm"]
    depth: "D32_Sfloat"
  layout:
    sets:
      - set: 0
        bindings:
          - binding: 0
            type: uniform_buffer
            stages: [vertex, fragment]
      - set: 1
        bindings:
          - binding: 0
            type: uniform_buffer
            stages: [vertex]
      - set: 2
        bindings:
          - binding: 0
            type: combined_image_sampler
            stages: [fragment]
    push_constants: []
  vertex:
    stride: 32
    attrib_formats: ["RGB32_Sfloat", "RGB32_Sfloat", "RG32_Sfloat"]
    # loc0: vec3 pos  (offset 0)
    # loc1: vec3 nrm  (offset 12)
    # loc2: vec2 uv   (offset 24)
  shaders:
    - { path: "assets/shaders/mesh_flat.vert.glsl", stage: "vertex",   entry: "main" }
    - { path: "assets/shaders/mesh_flat.frag.glsl", stage: "fragment", entry: "main" }
  states:
    depthTest: true
    depthWrite: true
    blend: false
